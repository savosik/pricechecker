/* Dropdown basic */

.dropdown {
  --_dropdown-padding-y: var(--ms-dropdown-padding-y, --spacing(2.5));
  --_dropdown-padding-x: var(--ms-dropdown-padding-x, --spacing(3));

  position: relative;
}

/* Dropdown body */

.dropdown-body {
  --ms-btn-active-translateY: 0;

  overflow: hidden;
  position: absolute;
  z-index: var(--z-dropdown);
  box-shadow: 0 4px 10px -5px rgb(0 0 0 / 0.1);
  border: var(--ms-dropdown-border-width, 1px) solid
    var(--ms-dropdown-border-color, var(--color-base-stroke));
  border-radius: var(--ms-dropdown-radius, var(--radius-lg));
  background-color: var(--ms-dropdown-bg-color, var(--color-base));
  color: var(--ms-dropdown-color, var(--color-base-text));
  pointer-events: none;
  visibility: hidden;
  opacity: 0;
  transition-property: opacity, visibility;
  transition-duration: var(--default-transition-duration);
  transition-timing-function: var(--default-transition-timing-function);

  @variant is_active {
    pointer-events: auto;
    visibility: visible;
    opacity: 1;
  }
}

/* Dropdown heading */

.dropdown-heading {
  padding-block: var(--ms-dropdown-heading-padding-y, var(--_dropdown-padding-y));
  padding-inline: var(--ms-dropdown-heading-padding-x, var(--_dropdown-padding-x));
  border-bottom: var(--ms-dropdown-heading-border-width, 1px) solid
    var(--ms-dropdown-heading-border-color, var(--color-base-stroke));
  background-color: var(--ms-dropdown-heading-bg-color, var(--color-base));
  font-size: var(--ms-dropdown-heading-font-size, var(--text-sm));
  font-weight: var(--ms-dropdown-heading-font-weight, var(--font-weight-medium));
}

/* Dropdown content */

.dropdown-content {
  --_dropdown-content-padding-y: var(--ms-dropdown-content-padding-y, var(--_dropdown-padding-y));
  --_dropdown-content-padding-x: var(--ms-dropdown-content-padding-x, var(--_dropdown-padding-x));

  overflow-y: auto;
  display: flex;
  flex-direction: column;
  min-width: var(--ms-dropdown-content-min-width, 148px);
  max-width: var(--ms-dropdown-content-max-width, 280px);
  max-height: var(--ms-dropdown-content-max-height, --spacing(64));
  font-size: var(--ms-dropdown-content-font-size, var(--text-sm));

  > * + * {
    border-top: var(--ms-dropdown-content-divider-width, 1px) solid
      var(--ms-dropdown-content-divider-color, var(--color-base-stroke));
  }

  @variant sm {
    --ms-dropdown-content-max-width: 320px;
  }

  .dropdown-input-search {
    border-radius: 0;
    border-left: 0;
    border-right: 0;
    border-bottom: 0;

    &:focus {
      box-shadow: none;
    }
  }
}

/* Dropdown footer */

.dropdown-footer {
  --_dropdown-footer-padding-y: var(--ms-dropdown-footer-padding-y, var(--_dropdown-padding-y));
  --_dropdown-footer-padding-x: var(--ms-dropdown-footer-padding-x, var(--_dropdown-padding-x));

  padding-block: var(--_dropdown-footer-padding-y);
  padding-inline: var(--_dropdown-footer-padding-x);
  border-top: var(--ms-dropdown-footer-border-width, 1px) solid
    var(--ms-dropdown-footer-border-color, var(--color-base-stroke));
  background-color: var(--ms-dropdown-footer-bg-color, var(--color-base-100));
}

/* Dropdown menu */

.dropdown-menu {
  display: flex;
  flex-direction: column;

  > * + * {
    border-top: var(--ms-dropdown-menu-divider-width, 1px) solid
      var(--ms-dropdown-menu-divider-color, var(--color-base-stroke));
  }
}

.dropdown-menu-item--active {
  .dropdown-menu-link,
  .btn {
    pointer-events: none;
    background-color: var(--color-base-200);
    color: var(--color-base-text);
  }
}

.dropdown-menu-link,
.dropdown-menu .btn {
  --ms-btn-icon-size: --spacing(4);
  --ms-link-color: var(--ms-dropdown-color);

  display: flex;
  align-items: center;
  justify-content: flex-start;
  column-gap: var(--ms-dropdown-menu-item-gap, --spacing(2));
  padding-block: var(--ms-dropdown-menu-item-padding-y, var(--_dropdown-content-padding-y));
  padding-inline: var(--ms-dropdown-menu-item-padding-x, var(--_dropdown-content-padding-x));
  font-weight: normal;

  &:not([class*='btn-']) {
    background-color: transparent;
  }

  @variant hover {
    background-color: var(--ms-dropdown-menu-item-hover-bg-color, var(--color-base-100));
    color: var(--ms-dropdown-menu-item-hover-color, var(--color-base-text));
  }
}

.dropdown-menu .btn {
  border-radius: 0;
  border: 0;

  &:focus {
    box-shadow: none;
  }
}
